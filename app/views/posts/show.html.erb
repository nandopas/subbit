<div class="container text-center">

<h1>
<%= link_to 'Subbit!', subway_stops_path %>
</h1>
<%= link_to 'Back to ' + @subway_stop.stop, subway_stop_path(@subway_stop), class: "btn btn-default", style: "background-color:#cce6ff; color:grey" %>

</div>
<br>
<%= render @post %>
<hr>
<div class="post-comments">
  <div class="container">
    <h3>Comments:</h3>
    <% @post.comments.reverse.each do |comment| %>
      <%= render comment %>
    <% end %>
  </div>
</div>


<% if current_user %>
<hr>
<div class="container" id="post-comments">
<%= form_with(model: @comment, local: true) do |f| %>
  <div class="form-group">
  <%= f.hidden_field :post_id, value: @post.id %>
  <%= f.label :comment, "Got something to say about this?" %><br>
  <%= f.text_area :comment, placeholder: "Type here", class: "form-control" %><br>
  <%= f.submit "Comment", class: "btn btn-default", style: "background-color:#cce6ff; color:grey" %>
  </div>
<% end %>
</div>
<% end %>

<% if false %>
<h3><%= @post.topic %></h3>
<p>
  <strong>Line:</strong>
  <%= @subway_stop.line %> ---

  <strong>Stop:</strong>
  <%= @subway_stop.stop %>
</p>


<p>
  <strong>User:</strong>
  <% if @post.username != nil %>
    <%= link_to @post.username, user_path(@post.user.id) %>
  <% else %>
    [deleted] 
  <% end %>
</p>

<p>
  <strong>Topic:</strong>
  <%= @post.topic %>
</p>

<p>
  <strong>Body:</strong>
  <%= @post.body %>
</p>

<% if current_user %>
    <%= link_to like_post_path(@post), method: :put do %>
      Upvote
      <%= @post.get_upvotes.size %>
    <% end %>
  <% else %>
    Upvotes
      <%= @post.get_upvotes.size %>
  <% end %>
  
  
  <% if current_user %>
    <%= link_to dislike_post_path(@post), method: :put do %>
      Downvote
      <%= @post.get_downvotes.size %>
    <% end %>
  <% else %>
    Downvotes
      <%= @post.get_downvotes.size %>
  <% end %>
  
<br>
<% end %>


<div class="text-center">
<%= link_to 'Back to ' + @subway_stop.stop, subway_stop_path(@subway_stop), class: "btn btn-default", style: "background-color:#cce6ff; color:grey; margin:6px" %>
</div>

