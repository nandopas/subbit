<!DOCTYPE html>
<html>
  <head>
    <title>Subbit</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag "application", "data-turbolinks-track" => "reload" %>
    

    <style>

      div.btn-group{
        z-index: 100;
      }

      #home-jumbo {
        /*background-color: #e6f5ff;*/
        background-image: url(/assets/subwaymap.jpg);
        background-position: left center;
        /* z index affects order, lower index means behind elements*/
        z-index: -1;
        top: 10px;
      }

      #map-canvas {
        background: transparent no-repeat 1 1;
        height:   450px;
        z-index:    -1;
      }

      /* for cards in _posts */
      div.card {
        background-color: #cce6ff;
      }

      /*to give the home screen a gray transluscent overlay */
      .subbit {
        background: #fff;
        opacity:    .95;
        position:   relative;
        padding:    10px;
        top:      0px;
        z-index:    2;
        margin:   0 auto;
        width:    75%;
        border-radius:5px;
      }
      

      #upvote{
        background-color: #00cc00;
        color: white;
      }

      #downvote{
        background-color: #ff0000;
        color: white;
      }
      #overlay {
        background: #fff;
        opacity:    .8;
        /*position:   relative;*/
        padding:    10px;
        top:      -360px;
        z-index:    2;
        margin:   0 auto;
        width:    75%;
        border-radius:5px;
      }
      
      a:hover{
                background-color: #3399ff;

      };
 
      li a:hover {
        background-color: #3399ff;
      }

      li.nav-item {
        border-radius:5px;
      }

      nav

      .btn{
        margin: 2px;
        margin-bottom: 6px;
        opacity: 1;
      }

      
    </style>
  </head>

  <body style="background-color:#f2f2f2">

    <% if false %>
    <% count = Notification.count(current_user).to_s %>
    <% end %>

    <nav class="navbar fixed-top navbar-expand-lg navbar-light" style="background-color:#cce6ff">
        <ul class="nav nav-pills mr-auto">  
          <li class="nav-item">
            <%= link_to 'Subbit', root_path, class: "navbar-brand nav-link" %> 
          </li>
          <li class="nav-item">
            <%= link_to 'About', {controller: 'about'}, class: "nav-link" %>
          </li>
          <% if current_user %>
            <%= link_to "All Users", users_path, class: "nav-link" %>
          <li class="nav-item">
          </li>
          <% end %>
        </ul>
        <ul class="nav nav-pills ml-auto">          
          <% if current_user %>
            <li class="nav-item">
              <%= link_to current_user.username + ' User Page', user_path(current_user), class: "nav-link" %>
            </li>

            <% if false %>
            <li class="nav-item" id="notifications" data-count="<%= count %>">
              <%= link_to 'Notifications: ' + count, user_notifications_path(current_user), class: "nav-link" %>
            </li>
            <% end %>

            <li class="nav-item">
              <%= link_to 'Log Out', logout_path(current_user), class: "nav-link" %>
            </li>          
          <% else %>
            <li class="nav-item">
              <%= link_to 'Sign Up!', signup_path, class: "nav-link" %>
            </li>
            <li class="nav-item">
              <%= link_to 'Log In!', login_path, class: "nav-link" %>
            </li>
          <% end %>
        </ul>
    </nav>
    <br><br>
    <%= yield %>




    <% if false %>
    <footer>
      <nav class="navbar fixed-bottom navbar-expand-lg navbar-light" style="background-color:#cce6ff">
        <%= link_to 'Subbit', root_path, class: "navbar-brand" %>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">   
            <li class="nav-item">
              <%= link_to 'About', {controller: 'about'}, class: "nav-link" %>
            </li>
          </ul>
          <ul class="navbar-nav ml-auto">          
            <% if current_user %>
              <li class="nav-item">
                <%= link_to 'User Page', user_path(current_user), class: "nav-link" %>
              </li>
              <li class="nav-item">
                <%= link_to 'Log Out', logout_path(current_user), class: "nav-link" %>
              </li>          
            <% else %>
              <li class="nav-item">
                <%= link_to 'Sign Up!', signup_path, class: "nav-link" %>
              </li>
              <li class="nav-item">
                <%= link_to 'Log In!', login_path, class: "nav-link" %>
              </li>
            <% end %>
          </ul>
        </div>
      </nav>
    </footer>
    <% end %>

  

  <script>
    /*
    $(document).ready(function() {
      var notifications   = $("#notifications");
      var count = notifications.data("count");
      console.log("count: " + count);
      
      if (count > 0)
      {
        $(notifications).css("background-color", "#ff4d4d");
        $(notifications).fadeOut(250).fadeIn(250).fadeOut(250).fadeIn(250).fadeOut(250).fadeIn(250);
      
      }
      
    });
   */
  </script>
  </body>
</html>
